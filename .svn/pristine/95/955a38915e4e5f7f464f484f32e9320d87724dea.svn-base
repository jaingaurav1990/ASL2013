package ch.ethz.inf.asl13.user40.server;

import javax.xml.ws.Endpoint;
import ch.ethz.inf.asl13.user40.MessagingService;

/**
 * Implements the messaging service.
 */
public class Server {

	/**
	 * Entry point for the application.
	 * Creates and publishes the messaging service.
	 */
	public static void main(String[] args) {
		publish(MessagingService.DEFAULT_SERVICE_URL, new MessagingServiceImpl());
	}

	/**
	 * Creates and publishes a messaging service endpoint at the specified address.
	 * @param address A URI specifying the address and transport/protocol to use.
	 * @param service The service that should be started at <var>address</var>.
	 * @return The newly created endpoint.
	 */
	public static Endpoint publish(String address, MessagingService service) {
		Endpoint endpoint = Endpoint.publish(address, service);
		System.out.println("Listening at " + address + "...");
		return endpoint;
	}
}